# Financial Agent Demo Project

This project demonstrates a multi-agent system for financial analysis using the Aurite framework. It includes agents for capturing user preferences, collecting financial data, and generating portfolio analysis.

## Project Structure

```
example_project/
├── agents/
│   ├── agent_1_user_prefs.py
│   ├── agent_2_3_finance_data.py
│   └── agent_4_portfolio_analysis.py
├── data/
│   ├── financial_analysis/
│   │   └── latest_analysis.json
│   ├── portfolio_analysis/
│   └── user_preferences/
├── utils/
│   ├── aurite_instance.py
│   └── financial_model.py
└── run_all_agents.py
```

- **`agents/`**: Contains the individual agent scripts.
- **`data/`**: Stores the JSON files generated by the agents.
- **`utils/`**: Contains utility scripts.
  - `aurite_instance.py`: Manages the shared Aurite instance and component registration.
  - `financial_model.py`: A mock financial model for data processing.
- **`run_all_agents.py`**: The main script to run the entire workflow.

## How to Run

### Full Workflow

To run the complete workflow, use the `run_all_agents.py` script. You can provide a user message and user ID as command-line arguments.

```bash
python3 run_all_agents.py --message "Your investment preferences" --user "your_user_id"
```

- `--message`: (Optional) A string describing the user's investment preferences. If not provided, a default message will be used.
- `--user`: (Optional) The user ID for which to run the portfolio analysis. This can be an existing user id (which will cause agent 1 to update the user preferences), a new user id (which will cause agent 1 to create a new user preferences file), or no user id (which will cause agent 1 to autogenerate a user id).

### Individual Agents

You can also run each agent script individually.

**Agent 1: User Preferences**

This agent captures user preferences and saves them to a JSON file.

```bash
python3 agents/agent_1_user_prefs.py --message "Your investment preferences" --user "your_user_id"
```

- `--message`: (Optional) The user's investment preferences.
- `--user`: (Optional) The user ID to assign to the preferences. If not provided, a new one will be generated.

**Agent 2 & 3: Financial Data Workflow**

This script runs a workflow to collect mock macroeconomic and microeconomic data and processes it through a financial model.

```bash
python3 agents/agent_2_3_finance_data.py
```

This script does not take any command-line arguments.

**Agent 4: Portfolio Analysis**

This agent generates a portfolio analysis based on user preferences and financial data.

```bash
python3 agents/agent_4_portfolio_analysis.py --user "your_user_id"
```

- `--user`: (Optional) The user ID for the analysis. If not provided, the most recently created user's data will be used.

## How It Works

1.  **User Preferences (Agent 1)**: The `user_prefs_agent` takes a natural language message, extracts the user's investment preferences, and saves them as a JSON file in `data/user_preferences/`.

2.  **Financial Data (Agents 2 & 3)**: The `finance_data_workflow` runs two agents to generate mock macroeconomic and microeconomic data. This data is then processed by the `utils/financial_model.py` script, and the results are saved to `data/financial_analysis/latest_analysis.json`.

3.  **Portfolio Analysis (Agent 4)**: The `portfolio_agent` reads the user's preferences from their JSON file and the latest financial analysis. It then generates a personalized portfolio recommendation and saves it to `data/portfolio_analysis/`.

This project serves as a template for building more complex, multi-agent financial applications with Aurite.
